<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />

  <!-- manifest webmanifest-->
  <link rel="manifest" href="./manifest.webmanifest">

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-135551870-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", "UA-135551870-1");
  </script>


  <!--icon for the tittie-->

  <link rel="shortcut icon" type="image/png" href="favicon.png" />

  <!--Bootstrap CDN-->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />

  <!-- google fonts-->
  <link href="https://fonts.googleapis.com/css?family=Baloo+Da+2|Roboto+Mono&display=swap" rel="stylesheet">

  <!--custom css-->
  <link href="custom.css" rel="stylesheet" />

  <title>CJ Notes</title>
</head>

<body>
  <!--nav bar-->
  <nav class="myNavbar navbar ">
    <span class="mytextnav navbar-brand mb-0 h1">Pluse One</span>
    <a class="btn btn-light" href="../index.html" role="button">Back</a>
  </nav>

  <!--main container-->
  <div class="myContainer container-fluid">
    <ul id="list-section" class="list-group list_container list-group-flush">

    </ul>

    <div id="add-div">
      <a class="list_text" href="./addfiles+1.html"><button class="main-button "> Contribute</button></a>
    </div>
  </div>

  <!--footer-->

  <nav class="myNavbar  navbar navbar-light ">
    <div class="mytextnav footerDiv  col">
      <p class="footerlink">
        <a class="mytextnav" href="https://github.com/rabeeh-ta/CJHSS-notes.">
          ❤️ Source</a>
      </p>
    </div>
  </nav>

  <!-- The core Firebase JS SDK is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/7.12.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-storage.js"></script>
  <!--Firebase configuration-->
  <script src="../auth/firebase_auth.js"></script>
  <script>

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    //DOM elements
    let list_section = document.getElementById('list-section');


    // we'll create a Reference to that folder:
    let storageRef = firebase.storage().ref("plus_one/");

    // Now we pull all the files from firebase storage
    storageRef.listAll().then(function (result) {
      result.items.forEach(function (imageRef) {

        let obj = Object.create(imageRef);

        function displayImage(imageRef) {
          imageRef.getDownloadURL().then(function (url) {
            //console.log(obj.name, url);


            //  making the UI on the fly
            let list_li = document.createElement('li');
            list_li.className = 'list-group-item text-center render-list';
            list_section.appendChild(list_li);
            let list_a = document.createElement('a');
            list_a.href = url;
            list_a.innerHTML = obj.name;
            list_li.appendChild(list_a);

          }).catch(function (error) {
            console.log(error);
          });
        }

        displayImage(imageRef);
      });
    }).catch(function (error) {
      console.log(error);
    });

  </script>

  <!--Bootstrap CDN -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
    </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
    </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
    </script>

</body>

</html>